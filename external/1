
/*
 * Examples of gnuplot_i.c usage
 */

#include <stdio.h>
#include <stdlib.h>

#define MAX 50
typedef struct {
    int nodes[MAX];
    int to[MAX];
    int from[MAX];
    int weights[MAX];
    int num_nodes;
    int num_edges;
} Node_info;

int display_graph(Node_info* info) 
{
    FILE* fp = fopen("pnts.dat","w");
    FILE* fe = fopen("edges.dat","w");
    int count = 5; 
    for(int i = 0; i < info->num_nodes; i++) 
    {
        fprintf(fp,"%d %d %d\n",i,count,count+5);
        
    }
    for(int i = 0; i < info->num_edges; i++) 
    {
        fprintf(fe,"%d %d %d %d %d\n", info->from[i], 
        info->to[i],info->weights[i],0,1);
    }    

    system("gnuplot gnuplot.sh -persist");
    
    return 0 ;
}

int main(int argc, char* argv[]) 
{
    Node_info n1;
    n1.num_nodes = 3;
    n1.num_edges = 2;
    n1.nodes[MAX] = {1,2,3};
    n1.from[n1.num_edges] = {1,2};
    n1.to[n1.num_edges] = {2,3};
    n1.weights[n1.num_edges] = {20,49};
    display_graph(&n1);
    


}
